
{% load staticfiles %}

<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Provity</title>
    <link rel="shortcut icon" href="{% static 'web/images/LOGO2.png' %}"/>
    <!-- Meta Share -->
    <meta property="og:title" content="Provity APP" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="images/screen.jpg" />
    <!-- CSS Files -->
    <link href="https://fonts.googleapis.com/css?family=Product+Sans:300,400,700" rel="stylesheet">
    <!-- build:css css/app.min.css -->
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'web/css/global/bootstrap.min.css' %}">
    <!-- Plugins -->
    <link rel="stylesheet" href="{% static 'web/css/global/plugins/icon-font.css' %}">
    <!-- Main CSS -->
    <link rel="stylesheet" href="{% static 'web/css/style.css' %}">
    <!-- /build -->
    <style type="text/css">
        .dominio{
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            padding: .375rem .75rem;
            margin-bottom: 0;
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: #495057;
            text-align: center;
            white-space: nowrap;
            background-color: #e9ecef;
            border: 1px solid #ced4da;
            border-radius: .25rem;
        }
    </style>
</head>

<body class="overflow-hidden">
    <header id="home">

        <!-- navbar -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container">
                <a class="navbar-brand" href="index.html">
                    <img style="width: 130px; margin-top: 10px; margin-bottom: 10px;" src="{% static 'web/images/pro.svg' %}" alt="image"/>
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#site-nav" aria-controls="site-nav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>

                <div class="collapse navbar-collapse" id="site-nav">
                    <ul class="navbar-nav text-sm-left ml-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="#features">Ventajas</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#pricing">Planes</a>
                        </li>
                        
                        <li class="nav-item">
                            <a class="nav-link" href="#">Ayuda</a>
                        </li>

                        <li class="nav-item text-center">
                            <a href="#signup" class="btn align-middle btn-outline-primary my-2 my-lg-0">PROBAR</a>
                        </li>
                        
                    </ul>

                </div>
            </div>
        </nav>
        <!-- // end navbar -->


        <!-- hero -->
        <section class="jumbotron-two">

            <div class="container">

                <div class="row align-items-center">
                    <div class="col-12 col-md-5">

                        <h1 class="display-5">Productividad Controlada.</h1>
                        <p class="text-muted mb-3">Provity es un Sistema de Geolocalización, Gestión y Control de Personales. FÁCIL, SEGURO Y PRECISO.</p>
                        <p>
                            <a href="#signup" class="btn btn-xl btn-primary">DEMO</a>
                        </p>

                    </div>
                    <div class="col-12 col-md-7 my-3 my-md-lg">

                        <div class="cast-shadow" style="overflow: hidden;">
                            <img src="{% static 'web/images/screen2.jpg' %}" alt="image" class="img-fluid">
                        </div>
                    </div>
                </div>

            </div>

        </section>
        <!-- // end hero -->


        <div class="bg-shape"></div>
        <div class="bg-circle"></div>
        <div class="bg-circle-two"></div>

    </header>
   
    <!-- // end #services.section -->
    <div class="section bg-light pt-lg">
        <div class="container">

            <div class="row">
                <div class="col-md-6 col-lg-4">
                    <div class="media mb-5">
                        <div class="media-icon d-flex mr-3"> <i class="pe-7s-check pe-3x"></i> </div>
                        <!-- // end .di -->
                        <div class="media-body">
                            <h5 class="mt-0">Fácil</h5> Diseñamos una interfaz intuitiva centrada en el usuario, simplificando y optimizando los elementos de navegación.
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="media mb-5">
                        <div class="media-icon d-flex mr-3"> <i class="pe-7s-shield pe-3x"></i> </div>
                        <!-- // end .di -->
                        <div class="media-body">
                            <h5 class="mt-0">Seguro</h5> Seguimos todos los procedimientos necesarios para garantizar la seguridad del sistema durante el proceso de desarrollo. 
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="media mb-5">
                        <div class="media-icon d-flex mr-3"> <i class="pe-7s-compass pe-3x"></i> </div>
                        <!-- // end .di -->
                        <div class="media-body">
                            <h5 class="mt-0">Preciso</h5>Utilizamos tecnologías que proveen datos específicos, precisos y en tiempo real.
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="media mb-5">
                        <div class="media-icon d-flex mr-3"> <i class="pe-7s-piggy pe-3x"></i> </div>
                        <!-- // end .di -->
                        <div class="media-body">
                            <h5 class="mt-0">Accesible</h5>Ofrecemos planes acordes al tamaño de su Empresa, generando mínimas inversiones por personal.
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="media mb-5">
                        <div class="media-icon d-flex mr-3"> <i class="pe-7s-users pe-3x"></i> </div>
                        <!-- // end .di -->
                        <div class="media-body">
                            <h5 class="mt-0">Productivo</h5> Generamos experiencias que promueven la productividad laboral y el trabajo en equipo.
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="media mb-5">
                        <div class="media-icon d-flex mr-3"> <i class="pe-7s-paint-bucket pe-3x"></i> </div>
                        <!-- // end .di -->
                        <div class="media-body">
                            <h5 class="mt-0">Personalizable</h5> Desarrollamos y adaptamos los módulos del sistema a sus necesidades. 
                        </div>
                    </div>
                </div>
                <!-- // end .col -->
            </div>
        </div>
    </div>

    <!-- Features -->
    <div class="section" id="features">

        <div class="container">
            <div class="row align-items-center">
                <div class="col-sm-8">
                    <div class="browser-window limit-height my-5 mr-0 mr-sm-5">
                        <div class="top-bar">
                            <div class="circles">
                                <div class="circle circle-red"></div>
                                <div class="circle circle-yellow"></div>
                                <div class="circle circle-blue"></div>
                            </div>
                        </div>
                        <div class="content">
                            <img src="{% static 'web/images/supervisor.png' %}" alt="image">
                        </div>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="media">
                        <div class="media-body">
                            <div class="media-icon mb-3"> <i class="pe-7s-note2 pe-3x"></i> </div>
                            <h3 class="mt-0">El Supervisor</h3>
                            <p> <strong> Accede a un panel administrador web responsive en dónde puede:</strong>
                                <p>- Trazar rutas específicas para generar los itinerarios de los personales</p>
<p>- Trazar perímetros y radios de las áreas en las cuáles el personal debe permanecer para cumplir su labor </p>
<p>- Visualizar la ubicación del personal en tiempo real </p>
<p>- Recibir notificaciones si el personal está fuera del rango trazado </p>
<p>- Visualizar marcaciones del personal</p> 
<p>- Elaborar una lista de tareas y enviar mensajes al personal</p>
<p>- Visualizar los reportes y apuntes del personal</p> </p>
                        </div>
                    </div>
                </div>

            </div>



            <div class="row align-items-center mt-5">

                <div class="col-sm-4">
                    <div class="media">
                        <div class="media-body">
                            <div class="media-icon mb-3"> <i class="pe-7s-id pe-3x"></i> </div>
                            <h3 class="mt-0">El Usuario</h3>
                            <p> <strong> Desde su dispositivo móvil, a través de la App puede:</strong>
                                
<p>- Ingresar a su cuenta </p>
<p>- Visualizar los itinerarios, tareas y mensajes del Supervisor </p>
<p>- Recibir notificaciones </p>
<p>- Marcar sus entradas y salidas en tiempo real con geolocalización</p> 
<p>- Elaborar y visualizar sus reportes y apuntes</p> 
<p>- Visualizar sus metas y objetivos logrados con sus respectivos puntos acumulados </p>

</p>
                        </div>
                    </div>
                </div>


                <div class="col-sm-8">
                    <img src="{% static 'web/images/screen.png' %}" alt="image" class="img-fluid cast-shadow my-5">
                </div>


            </div>
        </div>



    </div>

    <!-- Pricing -->
    <div class="section bg-light py-lg" id="pricing">
        <div class="container">

            <div class="section-title text-center mt-0 mb-5">
                <h3>Planes Mensuales</h3>
                <p>Se pueden agregar campos o funciones, dependiendo de las necesidades de su Empresa.</p>
            </div>

            <div class="row" style="">

                <div class="col-md-1">
                </div>
                <div class="col-md-5">
                    <div class="card pricing">
                        <div class="card-body">
                            <small class="text-muted">BÁSICO</small>
                            <h5 class="card-title">45.000</h5>
                            <small class="text-muted">Guaraníes</small>
                            <p class="card-text">
                                <ul class="list-unstyled">
                                    
                                    <li>Creación, edición y cancelación de Usuarios.</li>
                                    <li>Gestor de itinerarios, tareas y reportes.</li>
                                    <li>Marcación por geolocalización con formulario de observaciones.</li>
                                    <li class="plan-muted">Delimitación de áreas.</li>
                                    <li>Mapa de movimientos en vivo.</li>
                                    <li class="plan-muted">Mapa de calor de movimientos.</li>
                                    <li>Historial de marcaciones.</li>
                                    <li class="plan-muted">Estadísticas de productividad.</li>
                                    <li>Sistema de gamification para Usuarios.</li>
                                    <li class="plan-muted">Notificaciones para Usuarios.</li>
                                    <li>Servicio de hosting.</li>
                                    <li>Backup de base de datos.</li>
                                    <li>Soporte técnico y mantenimiento.</li>
                                    
                                </ul>
                            </p>
                            <a href="solicitar.html" class="btn btn-xl btn-outline-primary">Solicitar Demo</a>
                        </div>
                    </div>
                </div>

                <div class="col-md-5"> 
                    <div class="card pricing">
                        <div class="card-body">
                            <small class="text-muted">PREMIUM</small>
                            <h5 class="card-title">55.000</h5>
                            <small class="text-muted">Guaraníes</small>
                            <p class="card-text">
                                <ul class="list-unstyled">
                                    
                                    <li>Creación, edición y cancelación de Usuarios.</li>
                                    <li>Gestor de itinerarios, tareas y reportes.</li>
                                    <li>Marcación por geolocalización con formulario de observaciones.</li>
                                    <li>Delimitación de áreas.</li>
                                    <li>Mapa de movimientos en vivo.</li>
                                    <li>Mapa de calor de movimientos.</li>
                                    <li>Historial de marcaciones.</li>
                                    <li>Estadísticas de productividad.</li>
                                    <li>Sistema de gamification para Usuarios.</li>
                                    <li>Notificaciones para Usuarios.</li>
                                    <li>Servicio de hosting.</li>
                                    <li>Backup de base de datos.</li>
                                    <li>Soporte técnico y mantenimiento.</li>

                                </ul>
                            </p>
                            <a href="solicitar.html" class="btn btn-xl btn-outline-primary">Solicitar Demo</a>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- // end Pricing -->

    <!-- Signup -->
    <div class="section" id="signup">
        <div class="container">
            <div class="section-title text-center">
                <h3>DEMO</h3>
                <p>Accede a una prueba de 30 días para 10 usuarios</p>
            </div>
            <div class="row justify-content-md-center">
                <div class="col col-md-8">
                    {% csrf_token %}
                    <p>Datos de la Empresa</p>
                    <div class="row form-group">
                        <div class="col-md-6">
                            <input id="razon_social" type="text" class="form-control" placeholder="Razón Social">
                        </div>
                        <div class="col-md-6">
                            <input id="ruc" type="text" class="form-control" placeholder="R.U.C.">
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-md-6">
                            <input id="telefono" type="text" class="form-control" placeholder="Teléfono">
                        </div>
                        <div class="col-md-6">
                            <input id="email" type="text" class="form-control" placeholder="Correo Electrónico">
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-md-6">
                            <select id="modulo" type="text" class="form-control" placeholder="Teléfono" style="height: 55px !important;">
                                <option value="0">Marcacion de Entrada/Salida</option>
                                <option value="1">Trackeo de Flota</option>
                            </select>
                        </div>
                    </div>
                    <p>URL de acceso</p>
                    <div class="input-group mb-3">
                        <input required onkeyup="schema()" id="url" name="url" type="text" class="form-control" placeholder="nombreempresa" aria-label="nombreempresa" aria-describedby="basic-addon2">
                        <input style="display: none" type="text" class="form-control" id="schema_data"> 
                        <div class="input-group-append dominio">
                            <span class="input-group-text" id="basic-addon2">.provity.com.py</span>
                        </div>
                    </div>
                    <div class="help-block" id="bloque" style="display: none">
                        <p style="color: red;">Este sub-dominio no esta disponible</p>
                    </div>
                    <p>Usuario Administrador</p>
                    <div class="row form-group">
                        <div class="col-md-4">
                            <input id="username" type="text" class="form-control" placeholder="Nombre de Usuario">
                        </div>
                        <div class="col-md-4">
                            <input id="pass1" type="password" class="form-control" placeholder="Contraseña">
                        </div>
                        <div class="col-md-4">
                            <input id="pass2" onkeyup="check_pass()" type="password" class="form-control" placeholder="Repita su Contraseña">
                            <div class="help-block" id="bloque_password" style="display: none">
                                <p style="color: red;">Las contraseñas no coinciden</p>
                            </div>
                        </div>
                    </div>
                    <center><h6 style="display: none; color: red;" id="mensaje_error">Debes completar todos los campos.</h6></center>
                    <div class="form-group">
                        <button onclick="enviar()" class="btn btn-xl btn-block btn-primary">Acceder</button>
                    </div>
                </div>
            </div>

        </div>
    </div>



    <div class="section bg-light mt-4" id="footer">
        <div class="container">
            <div class="row">
                <div class="col-sm-4"> 
                            <img style="width: 50%" src="{% static 'web/images/pro.svg' %}" alt="image"/>
                  
                    <p class="mt-3 ml-1 text-muted">Moisés Bertoni c/ Malutín - Villa Morra </p>
                    <p class="ml-1"><a href="solicitar.html">Solicitar Presupuesto →</a></p>
                    <!-- // end .lead -->
                </div>
                <!-- // end .col-sm-3 -->
                <div class="col-sm-2">
                    <ul class="list-unstyled footer-links ml-1">
                        <li><a >Más información:</a></li>
                        
                       
                        
                    </ul>
                </div>
                <!-- // end .col-sm-3 -->
                <div class="col-sm-3">
                    <ul class="list-unstyled footer-links ml-1">
                        <li><a href="#">+595 982 99 29 79</a></li>
                        
                    </ul>
                </div>
                <!-- // end .col-sm-3 -->
                
                <!-- // end .col-sm-3 -->
                <div class="col-sm-3">
                    <ul class="list-unstyled footer-links ml-1">
                    <li><a href="mailto:info@controllerapp.com.py">info@provity.com.py</a></li>
                </div>
                <!-- // end .col-sm-3 -->
            </div>
            <!-- // end .row -->
            <div class=" text-center mt-4"> <small class="text-muted">TecnoDesign, Asunción Paraguay ©
                          <script type="text/javascript">
                          document.write(new Date().getFullYear());
                          </script>
                         
                      </small></div>
        </div>
        <!-- // end .container -->
    </div>
    <!-- // end #about.section -->
    <!-- // end .agency -->
    <!-- JS Files -->
    <!-- build:js js/app.min.js -->
    <!-- jQuery first, then Tether, then Bootstrap JS. -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="{% static 'web/js/global/jquery-3.2.1.min.js' %]"></script>
    <!-- Bootstrap JS -->
    <script src="{% static 'web/js/global/bootstrap.bundle.min.js' %]"></script>
    <!-- Main JS -->
    <script src="{% static 'web/js/script.js' %]"></script>


    <script type="text/javascript">
        $.ajaxSetup({
            beforeSend: function(xhr, settings) {
                function getCookie(name) {
                    var cookieValue = null;
                    if (document.cookie && document.cookie != '') {
                        var cookies = document.cookie.split(';');
                        for (var i = 0; i < cookies.length; i++) {
                            var cookie = jQuery.trim(cookies[i]);
                            // Does this cookie string begin with the name we want?
                            if (cookie.substring(0, name.length + 1) == (name + '=')) {
                                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                                break;
                            }
                        }
                    }
                    return cookieValue;
                }
                if (!(/^http:.*/.test(settings.url) || /^https:.*/.test(settings.url))) {
                    // Only send the token to relative URLs i.e. locally.
                    xhr.setRequestHeader("X-CSRFToken", getCookie('csrftoken'));
                }
            }
        });
         
            function enviar() {
                console.log("Enviamos el POST")  
                // Obtenemos todos los datos del formulario para validar si estan completos correctamente.
                // Step 1
                var razon_social    = document.getElementById("razon_social").value
                var ruc             = document.getElementById("ruc").value
                var url             = document.getElementById("url").value
                var schema_data     = document.getElementById("schema_data").value
                var modulo     = document.getElementById("modulo").value
                // Step 2
                var telefono    = document.getElementById("telefono").value
                var email       = document.getElementById("email").value
                // Step 3
                var username    = document.getElementById("username").value
                var pass1       = document.getElementById("pass1").value
                var pass2       = document.getElementById("pass2").value

                // Verificamos que no hayan datos faltantes
                if(razon_social=='' || ruc=='' || url=='' ){
                    document.getElementById("mensaje_error").style.display='inline-grid'
                }else{
                    document.getElementById("mensaje_error").style.display='none'
                    // Enviamos el formulario via AJAX
                    var parametros = {
                        "ruc"           : ruc,
                        "razon_social"  : razon_social,
                        "url"           : url,
                        "schema_data"   : schema_data,
                        "telefono"      : telefono,
                        "email"         : email,
                        "username"      : username,
                        "pass1"         : pass1,
                        "pass2"         : pass2,
                        "modulo"        : modulo,
                    };
                    // AJAX SETUP
                    $.ajax({
                            data:  parametros, //datos que se envian a traves de ajax
                            url:   '/', //archivo que recibe la peticion
                            type:  'POST', //método de envio
                            success: function(data, textStatus, jqXHR){
                                var valor = JSON.parse(data);
                                console.log(valor)
                                console.log(valor[0].fields.domain_url)
                                window.location.href = "http://"+valor[0].fields.domain_url+"/";
                            }
                    });
                }

            }

        // Formateamos el string para usar en el campo 'schema_name'
        $("input#url").on({
          keydown: function(e) {
            if (e.which === 32)
              return false;
          },
          change: function() {
            this.value = this.value.replace(/\s/g, "");
          }
        });

        function schema(){
            var originalString  = document.getElementById("url").value.toLowerCase();

            console.log(originalString);
        
            $.ajax({
                url: "/cliente/validar/"+originalString,
                success: function(data, textStatus, jqXHR){
                    console.log(data);
                    if(data != '[]'){
                        document.getElementById("bloque").style.display='inline-grid'
                    }else{
                        console.log("Esta disponible");
                        document.getElementById("bloque").style.display='none'
                        document.getElementById("schema_data").value = originalString;
                    }
                }
            });
        }

        function filtrar(){
            var mes     = document.getElementById("mes").value
            var anho    = document.getElementById("year").value
            window.location.href = "/facturacion/reportes/libro_ventas?mes="+mes+"&anho="+anho;
        }

        function check_pass(){
            var pass1   = document.getElementById("pass1").value
            var pass2   = document.getElementById("pass2").value
            if(pass1 != pass2){
                document.getElementById("bloque_password").style.display='inline-grid'
            }else{
                document.getElementById("bloque_password").style.display='none'
            }
        }
    </script>
    <!-- /build -->
</body>

</html>